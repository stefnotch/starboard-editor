// @license Â© 2020 Google LLC. Licensed under the Apache License, Version 2.0.
const o=async(e,a,c=e.name)=>{const i=[],t=[];for await(const r of e.values()){const n=`${c}/${r.name}`;r.kind==="file"?t.push(r.getFile().then(s=>(s.directoryHandle=e,Object.defineProperty(s,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>n})))):r.kind==="directory"&&a&&i.push(o(r,a,n))}return[...(await Promise.all(i)).flat(),...await Promise.all(t)]};var l=async(e={})=>{e.recursive=e.recursive||!1;const a=await window.showDirectoryPicker({id:e.id,startIn:e.startIn});return o(a,e.recursive)};export{l as default};
